{"ast":null,"code":"import _objectSpread from\"C:/Users/Home/Documents/Documents/Eng Software/danz/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,createContext,useContext}from'react';import{mockUsers}from'../data/mockData';// Export vazio para tornar o arquivo um módulo\nimport{jsx as _jsx}from\"react/jsx-runtime\";export{};const AuthContext=/*#__PURE__*/createContext(undefined);export function AuthProvider(_ref){let{children}=_ref;const[authState,setAuthState]=useState({user:null,isAuthenticated:false,isLoading:true});useEffect(()=>{// Simular verificação de token/sessão\nconst savedUser=localStorage.getItem('danz_user');if(savedUser){try{const user=JSON.parse(savedUser);setAuthState({user,isAuthenticated:true,isLoading:false});}catch(error){localStorage.removeItem('danz_user');setAuthState({user:null,isAuthenticated:false,isLoading:false});}}else{setAuthState({user:null,isAuthenticated:false,isLoading:false});}},[]);const login=async(email,password)=>{// Simular autenticação\nconst user=mockUsers.find(u=>u.email===email);if(user&&password==='123456'){// Senha padrão para demo\nsetAuthState({user,isAuthenticated:true,isLoading:false});localStorage.setItem('danz_user',JSON.stringify(user));return true;}return false;};const logout=()=>{setAuthState({user:null,isAuthenticated:false,isLoading:false});localStorage.removeItem('danz_user');};const register=async userData=>{// Simular registro\nconst newUser=_objectSpread({id:Date.now().toString(),email:userData.email||'',name:userData.name||'',type:userData.type||'dancer',level:userData.level||'basic',createdAt:new Date().toISOString()},userData);setAuthState({user:newUser,isAuthenticated:true,isLoading:false});localStorage.setItem('danz_user',JSON.stringify(newUser));return true;};const updateProfile=userData=>{if(authState.user){const updatedUser=_objectSpread(_objectSpread({},authState.user),userData);setAuthState(_objectSpread(_objectSpread({},authState),{},{user:updatedUser}));localStorage.setItem('danz_user',JSON.stringify(updatedUser));}};const contextValue=_objectSpread(_objectSpread({},authState),{},{login,logout,register,updateProfile});return/*#__PURE__*/_jsx(AuthContext.Provider,{value:contextValue,children:children});}export function useAuth(){const context=useContext(AuthContext);if(context===undefined){throw new Error('useAuth must be used within an AuthProvider');}return context;}","map":{"version":3,"names":["React","useState","useEffect","createContext","useContext","mockUsers","jsx","_jsx","AuthContext","undefined","AuthProvider","_ref","children","authState","setAuthState","user","isAuthenticated","isLoading","savedUser","localStorage","getItem","JSON","parse","error","removeItem","login","email","password","find","u","setItem","stringify","logout","register","userData","newUser","_objectSpread","id","Date","now","toString","name","type","level","createdAt","toISOString","updateProfile","updatedUser","contextValue","Provider","value","useAuth","context","Error"],"sources":["C:/Users/Home/Documents/Documents/Eng Software/danz/src/hooks/useAuth.tsx"],"sourcesContent":["import React, { useState, useEffect, createContext, useContext, ReactNode } from 'react';\nimport { User, AuthState } from '../types';\nimport { mockUsers } from '../data/mockData';\n\n// Export vazio para tornar o arquivo um módulo\nexport {};\n\ninterface AuthContextType extends AuthState {\n  login: (email: string, password: string) => Promise<boolean>;\n  logout: () => void;\n  register: (userData: Partial<User>) => Promise<boolean>;\n  updateProfile: (userData: Partial<User>) => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [authState, setAuthState] = useState<AuthState>({\n    user: null,\n    isAuthenticated: false,\n    isLoading: true\n  });\n\n  useEffect(() => {\n    // Simular verificação de token/sessão\n    const savedUser = localStorage.getItem('danz_user');\n    if (savedUser) {\n      try {\n        const user = JSON.parse(savedUser);\n        setAuthState({\n          user,\n          isAuthenticated: true,\n          isLoading: false\n        });\n      } catch (error) {\n        localStorage.removeItem('danz_user');\n        setAuthState({\n          user: null,\n          isAuthenticated: false,\n          isLoading: false\n        });\n      }\n    } else {\n      setAuthState({\n        user: null,\n        isAuthenticated: false,\n        isLoading: false\n      });\n    }\n  }, []);\n\n  const login = async (email: string, password: string): Promise<boolean> => {\n    // Simular autenticação\n    const user = mockUsers.find(u => u.email === email);\n    if (user && password === '123456') { // Senha padrão para demo\n      setAuthState({\n        user,\n        isAuthenticated: true,\n        isLoading: false\n      });\n      localStorage.setItem('danz_user', JSON.stringify(user));\n      return true;\n    }\n    return false;\n  };\n\n  const logout = () => {\n    setAuthState({\n      user: null,\n      isAuthenticated: false,\n      isLoading: false\n    });\n    localStorage.removeItem('danz_user');\n  };\n\n  const register = async (userData: Partial<User>): Promise<boolean> => {\n    // Simular registro\n    const newUser: User = {\n      id: Date.now().toString(),\n      email: userData.email || '',\n      name: userData.name || '',\n      type: userData.type || 'dancer',\n      level: userData.level || 'basic',\n      createdAt: new Date().toISOString(),\n      ...userData\n    };\n\n    setAuthState({\n      user: newUser,\n      isAuthenticated: true,\n      isLoading: false\n    });\n    localStorage.setItem('danz_user', JSON.stringify(newUser));\n    return true;\n  };\n\n  const updateProfile = (userData: Partial<User>) => {\n    if (authState.user) {\n      const updatedUser = { ...authState.user, ...userData };\n      setAuthState({\n        ...authState,\n        user: updatedUser\n      });\n      localStorage.setItem('danz_user', JSON.stringify(updatedUser));\n    }\n  };\n\n  const contextValue: AuthContextType = {\n    ...authState,\n    login,\n    logout,\n    register,\n    updateProfile\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}